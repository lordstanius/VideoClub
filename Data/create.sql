CREATE TABLE [dbo].[Movies] (
    [Id] [int] NOT NULL IDENTITY,
    [Title] [nvarchar](50),
    [NumOfCopies] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Movies] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Rentals] (
    [Id] [int] NOT NULL IDENTITY,
    [DateOfRental] [datetime] NOT NULL,
    [DueDate] [datetime] NOT NULL,
    [MovieId] [int] NOT NULL,
    [UserId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Rentals] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_MovieId] ON [dbo].[Rentals]([MovieId])
CREATE INDEX [IX_UserId] ON [dbo].[Rentals]([UserId])
CREATE TABLE [dbo].[Users] (
    [Id] [int] NOT NULL IDENTITY,
    [FirstName] [nvarchar](30),
    [LastName] [nvarchar](30),
    [Street] [nvarchar](50),
    [City] [nvarchar](20),
    [Phone] [nvarchar](15),
    [Email] [nvarchar](60),
    CONSTRAINT [PK_dbo.Users] PRIMARY KEY ([Id])
)
ALTER TABLE [dbo].[Rentals] ADD CONSTRAINT [FK_dbo.Rentals_dbo.Movies_MovieId] FOREIGN KEY ([MovieId]) REFERENCES [dbo].[Movies] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Rentals] ADD CONSTRAINT [FK_dbo.Rentals_dbo.Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[Users] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201702072333009_initial', N'Model.Migrations.Configuration',  0x1F8B0800000000000400ED5ADB6EDC36107D2FD07F10F458B8962F48D01ABB09DCB55D188DBD86D709FA66D0D2EC9A2845A91265AC51F4CBFAD04FEA2F742851378ABA6DD6EB2008F212939C33C3E1CC7074B8FFFDF3EFE4FDDA67D61344310DF8D43EDC3FB02DE06EE051BE9ADA8958FEF893FDFEDDF7DF4DCE3D7F6D7DCAD71DCB7528C9E3A9FD284478E238B1FB083E89F77DEA46411C2CC5BE1BF80EF102E7E8E0E067E7F0D00184B011CBB226B70917D487F40FFC73167017429110761578C062358E338B14D5BA263EC42171616AA72B6CEB945182CA17C096B645380F041168DAC9C71816220AF86A11E2006177CF21E0BA25613128934FCAE543AD3F3892D63BA5600EE526B108FC918087C7CA1D8E2EBE9153EDC25DE8B07374AC7896BB4E9D26FDF54471E7BAA693198BE42AE5D0FD74D99E95FEB1571C34C683FCB767CD12269208A61C1211115C71933C30EAFE06CF77C11FC0A73C61AC6A075A8273B5011CBA89821022F17C0B4B65DDA5675B4E5DCED1050BB18A4C66FA2517C747B6758DCAC90383E2982BDB5C8820825F814344047837440888B8C480D4510DED9AAE3B2A18E4EA30B0302D6CEB8AAC3F005F89C7A9FD06F3E082AEC1CB0794051F39C52442191125D0A7E43AF1E7CB59105288FB76A6015D9327BA4A37AA41DEE2F650C2B66E81A5F3F1230DB374D9CFE6EE55605C44817F1BB042261BBFBF23D10A049A131826174112B99A3513A70CBDCE80CC90FA23325BF72D24755D6728355FE65ECCB4CAB13B2CA8FD11A3832520653F1B278D8B7E2F748360ED8E4663B4A6808AEF4D13208F716302E4D931D416B933A32972E2BE48D6D294EA7823176B939F958B995D7D9928577DCB435DD7058D6221FFDB713D1C6FE37AF84076A30771210DB317BDEC66A96B5B751C6D43C7CD63C0BBDC75F8660B4ACE7D42598792B71BED64A31B7D5015D10B9AB1C40CA922A7711CB834B5A1669B2AA8F5FD9C73CFEAAAAE99F7CAAA8C2EC47A4243AC20A87A6AFFD0F0500B6251244B4455E0EB8087B65E7AE6FC0C1808B04EDDAC859F91D8255EF36CD01F5E7D04AB1544B25C1086DF3031D63FCA45B3B451EED290B00EB33599810551DA54A0EB3367100297B5ACC3FF43D416577B5377A142F3539F5B264E2586BA43AB16DA6D81608EF33210B26BEE05E3A0C514434C0E8DF28D22CBE4871D449669CF43D4E6FDDE0E022BAB64282350022265C027EA4190B6017206D6C2D00BA191AA1D8A55C9D68F5E222F4054D305AB70593BEBD5A851CDEAE245156FC8E791D303209D6A12CF724013AE784B37216F8F2B4B4CEDB37E743DF5BEB0B6B2D3C6F1F754F80A46EE6C3D41EBFB1AB0E7FA0DDADC737B19EA2F44157BD5E174ECD8583FFABDD6B1E5FC1A2F82BF64D79C8C5ECB6938A785879B5C9130C4F6A6C2CBA9116B919172B31F17E3A92B3FC370DCD8C06015D6169A304DC90AB459548D96A6AD387EBB9207223BAC99E737963553BD258D727DB56C6E9E579E5DF972F9FF5CA4E0D30C5550ADBFC0BDF8B282A626E911DD944BA950C24864F8E099052CF1797B256F9756EC5615400D0DC7A8915755A4DA44136FE268AE685C020D27376EE1FA910D3AD0F61CEE3B51557FC71F699BE0CB9C699D1EAAE2D4674620E61C510D2C1F1C8E533492559CD6EEB21D276F1BAA306DADC4ABC55956E9C747597A4D8F8F31B3D8CB445885F8A8825486876395DC4615AA1C1D8E94B317559C7C6C384AC64E543166062AA80B41710F550835341C43510B550C35B4E3F86EF40EFA92427BD14368BDC244DDDBFD0F7B8D8B3C5B625BE89C27BCBDF1125F3CC702FC7DB9607FF1279B318AFB2D175C114E97108B8C77B48F0E0E8FB487C22FE7D1CE89638F0D79B9DB39734AA54B7BB9D191D47EED1D8D3F91C87D2451835C2C41377C364B6DEF346DEC33D5D7E17ED39B918763620B6F461BE3686F46E9C61B9FDF97DC83F5D4FE2B9539B12E7FBF57627BD63CC29C3FB10EACBF3FF3A569A8E64C6A84E271EF305F47A8359E458CD97E3C3ADBF557902DC1D61F3DB65499AA6F1C46C8A3D190B5270D23A67CD41887597BC13062BEEDB173CB4F048A72DA2985AF934DBB636BDB28821762FEBF26B2FFB5D8FD5D8748CBD7E06B46C8AB93F64DC26F0021DFCEC7675F19D8C63C0478AE59A16BA195CD5C7D07556FC26E23704D3C7E2B8D6F023672CB2FCAF0D73C5B612FFB197D03A5FD6591F80DD6FEC5373582A66F7E526392557E518BE91DD35509217F5FCBC1ADA557B1E6922F833CCB358BF2257ADF0E8260D34F4E234197C41538ED421CA7BF7FF844589276160FE05DF27922C244E096C17F60351645568B2EFDE95B44DDE6C93C4C7FF6B08D2DA099547EB7CCF92F09655E61F785A1876F81906548B5CDF22C856C9F57CF05D27583F2690352EE2BAAE71DF82143B078CE17E40936B10D03F603AC88FB9C3323ED20FD075177FBE48C925544FC586194F2F827C6B0E7AFDFFD0F12D8FC00582E0000 , N'6.1.3-40302')

